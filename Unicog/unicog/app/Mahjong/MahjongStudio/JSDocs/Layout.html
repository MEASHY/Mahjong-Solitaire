<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Layout</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Layout</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>Layout<span class="signature">(state)</span><span class="type-signature"></span></h2>
        
            <div class="class-description">Class representing a Mahjong layout.</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="Layout"><span class="type-signature"></span>new Layout<span class="signature">(state)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Create a Layout
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>state</code></td>
            

            <td class="type">
            
                
<span class="param-type">context</span>


            
            </td>

            

            

            <td class="description last">The scene in which the layout resides.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="layout.js.html">layout.js</a>, <a href="layout.js.html#line2">line 2</a>
    </li></ul></dd>
    

    

    

    
</dl>


















    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="addJsonLayer"><span class="type-signature"></span>addJsonLayer<span class="signature">(layer, height)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Adds a layer to the layers array.<p>Given a json array of 1's and 0's populate an array of TileNodes where the 1's are.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>layer</code></td>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            

            

            <td class="description last">json array indicating the position of TileNodes</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>height</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The height of the layer</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="layout.js.html">layout.js</a>, <a href="layout.js.html#line27">line 27</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="TileNode.html">TileNode</a></li>
        </ul>
    </dd>
    

    
</dl>


















        
            

    

    
    <h4 class="name" id="buildHierarchy"><span class="type-signature"></span>buildHierarchy<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Creates the hierarchy between the TileNodes.<p>The Layout class stores the TileNodes in a 3-dimensional array however,the TileNodes have an inherit tree structure that joins them. This function initializes that structure
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="layout.js.html">layout.js</a>, <a href="layout.js.html#line49">line 49</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="findNeighbours"><span class="type-signature"></span>findNeighbours<span class="signature">(tile, findEmpty)</span><span class="type-signature"> &rarr; {Array.&lt;<a href="TileNode.html">TileNode</a>>}</span></h4>
    

    



<div class="description">
    Finds the TileNodes neighbouring a given TileNode<p>If the findEmpty flag is set to true then we find uninitialized TileNodes.This is useful when generating initial Layout generation.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>tile</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="TileNode.html">TileNode</a></span>


            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last">The TileNode we are finding the neighbours of.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>findEmpty</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last">a flag determining if we are finding uninitialized neighbours.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="layout.js.html">layout.js</a>, <a href="layout.js.html#line73">line 73</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    neighbours - An array of the neighbours of this TileNode
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;<a href="TileNode.html">TileNode</a>></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="generateTiles"><span class="type-signature"></span>generateTiles<span class="signature">(counts, possible)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Generates a solvable layout of Mahjong tiles<p>A complete overview of the algorithm available here: <a href="https://github.com/MEASHY/Mahjong-Solitaire/wiki/Mahjong-Algorithm">https://github.com/MEASHY/Mahjong-Solitaire/wiki/Mahjong-Algorithm</a>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>counts</code></td>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last">An array of how many tiles from possible are left to place.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>possible</code></td>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last">An array of possible tiles sprites to place.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="layout.js.html">layout.js</a>, <a href="layout.js.html#line149">line 149</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="giveHint"><span class="type-signature"></span>giveHint<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Highlights two tiles that would create a valid match<p>traverses the layout linearly to find two matching tiles
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="layout.js.html">layout.js</a>, <a href="layout.js.html#line335">line 335</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="initializeBeginnerMode"><span class="type-signature"></span>initializeBeginnerMode<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Dims all non selectable tiles
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="layout.js.html">layout.js</a>, <a href="layout.js.html#line319">line 319</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="mergeArrays"><span class="type-signature"></span>mergeArrays<span class="signature">(array, newObjects)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    adds TileNodes to an array.<p>In order to be added the TileNode must not be a duplicate and must be selectable in the currently generated layout
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            

            

            <td class="description last">An array of TileNodes that can be initializedin the next iteration</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>newObjects</code></td>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            

            

            <td class="description last">An array TileNodes we may be adding to the array</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="layout.js.html">layout.js</a>, <a href="layout.js.html#line275">line 275</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="positionSprites"><span class="type-signature"></span>positionSprites<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Repositions every Sprite in the layout<p>traverses the layout linearly reseting the position of each TileNode
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="layout.js.html">layout.js</a>, <a href="layout.js.html#line303">line 303</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="TileNode.html">TileNode</a></li>
        </ul>
    </dd>
    

    
</dl>


















        
            

    

    
    <h4 class="name" id="removeTile"><span class="type-signature"></span>removeTile<span class="signature">(tilenode)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Removes a TileNode from layers<p>When a TileNode is removed from layers we must update the roots array.The children of removed TileNodes should be added to the root if they have no parents.These children should also be made selectable if applicable.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>tilenode</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="TileNode.html">TileNode</a></span>


            
            </td>

            

            

            <td class="description last">The TileNode we are removing.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="layout.js.html">layout.js</a>, <a href="layout.js.html#line108">line 108</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="shuffle"><span class="type-signature"></span>shuffle<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Shuffles the remaining tiles on the board so that the layout becomes solvable again<p>This generates a counts and possible array which are passed back to generateTiles While this happens we destroy all sprites currently on the board
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="layout.js.html">layout.js</a>, <a href="layout.js.html#line380">line 380</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>Layout.generateTiles({array} counts, {array} possible)</li>
        </ul>
    </dd>
    

    
</dl>


















        
            

    

    
    <h4 class="name" id="validMatchAvailable"><span class="type-signature"></span>validMatchAvailable<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Checks if there is a valid match on the board
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="layout.js.html">layout.js</a>, <a href="layout.js.html#line358">line 358</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Board.html">Board</a></li><li><a href="Layout.html">Layout</a></li><li><a href="TileNode.html">TileNode</a></li><li><a href="Timer.html">Timer</a></li></ul><h3>Global</h3><ul><li><a href="global.html#changePackage">changePackage</a></li><li><a href="global.html#changeTimer">changeTimer</a></li><li><a href="global.html#Create">Create</a></li><li><a href="global.html#endGame">endGame</a></li><li><a href="global.html#fillDropBox">fillDropBox</a></li><li><a href="global.html#GameSession">GameSession</a></li><li><a href="global.html#initLobby">initLobby</a></li><li><a href="global.html#loadButtons">loadButtons</a></li><li><a href="global.html#Preload">Preload</a></li><li><a href="global.html#resizeGame">resizeGame</a></li><li><a href="global.html#showGame">showGame</a></li><li><a href="global.html#showLobby">showLobby</a></li><li><a href="global.html#startGame">startGame</a></li><li><a href="global.html#triggerQuit">triggerQuit</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Thu Mar 15 2018 10:48:42 GMT-0600 (Mountain Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>